import sentinelsat
from sentinelsat import SentinelAPI, read_geojson, geojson_to_wkt
from datetime import date
api = SentinelAPI('tommasobondi', 'francedo03!', 'https://scihub.copernicus.eu/dhus')
footprint = geojson_to_wkt(read_geojson(r'C:\Users\geom21020\Desktop\ws.geojson'))
products = api.query(footprint,
                      date=('20211030', '20211119'),
                      platformname='Sentinel-2',
                      producttype='S2MSI1C',
#                      producttype='S2MSI2Ap',
                      cloudcoverpercentage=(0, 30))
api.download_all(products, directory_path='C:\'Users\geom21020\Desktop\sentinel_try')
